(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["zm-tree"],{"1e5d":function(e,t,n){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3"),n("4de4"),n("d3b7"),n("fb6a"),n("d9e2"),n("14d9"),n("159b"),n("8cd7");var r=i(n("2c80")),d=n("fab9"),a=i(n("b14d")),o=n("fbc7"),s=i(n("c962")),l=n("e7c7"),c={name:"ZmTree",mixins:[s.default],components:{ZmTreeNode:a.default},data:function(){return{store:null,root:null,currentNode:null,treeItems:null,checkboxItems:[],dragState:{showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0}}},props:{data:{type:Array},emptyText:{type:String,default:function(){return(0,o.t)("tree.emptyText")}},renderAfterExpand:{type:Boolean,default:!0},singleChoice:{type:Boolean,default:!1},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:function(){return{children:"children",label:"label",disabled:"disabled"}}},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},iconClass:String,activeKeys:{type:Array,default:function(){return[]}},disableTransitions:{type:Boolean,default:!1}},computed:{children:{set:function(e){this.data=e},get:function(){return this.data}},treeItemArray:function(){return Array.prototype.slice.call(this.treeItems).filter((function(e){return!e.classList.contains("is-hidden")}))},isEmpty:function(){var e=this.root.childNodes;return!e||0===e.length||e.every((function(e){var t=e.visible;return!t}))}},watch:{defaultCheckedKeys:function(e){this.store.setDefaultCheckedKey(e)},defaultExpandedKeys:function(e){this.store.defaultExpandedKeys=e,this.store.setDefaultExpandedKeys(e)},data:function(e){this.store.setData(e)},checkboxItems:function(e){Array.prototype.forEach.call(e,(function(e){e.setAttribute("tabindex",-1)}))},checkStrictly:function(e){this.store.checkStrictly=e},activeKeys:function(e){this.store.activeKeys=e},disableTransitions:function(e){this.store.disableTransitions=e}},methods:{filter:function(e){var t=this;if(!this.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");this.store.filter(e),this.$nextTick((function(){t.initTabIndex()}))},getNodeKey:function(e){return(0,d.getNodeKey)(this.nodeKey,e.data)},getNodePath:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");var t=this.store.getNode(e);if(!t)return[];var n=[t.data],i=t.parent;while(i&&i!==this.root)n.push(i.data),i=i.parent;return n.reverse()},getCheckedNodes:function(e,t,n){return this.store.getCheckedNodes(e,t,n)},getCheckedKeys:function(e,t){return this.store.getCheckedKeys(e,t)},getCurrentNode:function(){var e=this.store.getCurrentNode();return e?e.data:null},getCurrentKey:function(){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");var e=this.getCurrentNode();return e?e[this.nodeKey]:null},setCheckedNodes:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");this.store.setCheckedNodes(e,t)},setCheckedKeys:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");this.store.setCheckedKeys(e,t)},setChecked:function(e,t,n){this.store.setChecked(e,t,n)},getHalfCheckedNodes:function(){return this.store.getHalfCheckedNodes()},getHalfCheckedKeys:function(){return this.store.getHalfCheckedKeys()},setCurrentNode:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");this.store.setUserCurrentNode(e)},setCurrentKey:function(e){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");this.store.setCurrentNodeKey(e)},getNode:function(e){return this.store.getNode(e)},remove:function(e){this.store.remove(e)},append:function(e,t){this.store.append(e,t)},insertBefore:function(e,t){this.store.insertBefore(e,t)},insertAfter:function(e,t){this.store.insertAfter(e,t)},handleNodeExpand:function(e,t,n){this.broadcast("ZmTreeNode","tree-node-expand",t),this.$emit("node-expand",e,t,n)},updateKeyChildren:function(e,t){if(!this.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");this.store.updateChildren(e,t)},initTabIndex:function(){var e=this.treeItems=this.$el.querySelectorAll(".is-focusable[role=treeitem]");this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]");var t=this.$el.querySelectorAll(".is-checked[role=treeitem]");t.length?this.setFirstVisibleItemTabIndex(t):e.length&&this.setFirstVisibleItemTabIndex(e)},setFirstVisibleItemTabIndex:function(e){Array.prototype.slice.call(e).filter((function(e){return!e.classList.contains("is-hidden")})).forEach((function(e,t){0===t?e.setAttribute("tabindex",0):e.setAttribute("tabindex",-1)}))},handleKeydown:function(e){var t=e.target;if(-1!==t.className.indexOf("zm-tree-node")){var n=e.keyCode;this.treeItems=this.$el.querySelectorAll(".is-focusable.is-parentExpanded[role=treeitem]");var i,r=this.treeItemArray.indexOf(t);if([38,40].indexOf(n)>-1&&(e.stopPropagation(),e.preventDefault(),i=38===n?r>0?r-1:0:r<this.treeItemArray.length-1?r+1:0,this.treeItemArray[i].focus()),[37,39].indexOf(n)>-1){e.preventDefault();var d=t.querySelector(".zm-tree-node__expand-icon");d?d.click():t.click()}var a=t.querySelector('[type="checkbox"]');[13,32].indexOf(n)>-1&&(e.preventDefault(),a?(e.stopPropagation(),a.click()):t.click()),this.$emit("keydown",e)}}},created:function(){var e=this;this.isTree=!0,this.store=new r.default({key:this.nodeKey,data:this.data,lazy:this.lazy,props:this.props,load:this.load,currentNodeKey:this.currentNodeKey,checkStrictly:this.checkStrictly,checkDescendants:this.checkDescendants,defaultCheckedKeys:this.defaultCheckedKeys,defaultExpandedKeys:this.defaultExpandedKeys,autoExpandParent:this.autoExpandParent,defaultExpandAll:this.defaultExpandAll,filterNodeMethod:this.filterNodeMethod,activeKeys:this.activeKeys,disableTransitions:this.disableTransitions}),this.root=this.store.root;var t=this.dragState;this.$on("tree-node-drag-start",(function(n,i){if("function"===typeof e.allowDrag&&!e.allowDrag(i.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(r){}t.draggingNode=i,e.$emit("node-drag-start",i.node,n)})),this.$on("tree-node-drag-over",(function(n,i){var r=(0,d.findNearestComponent)(n.target,"ZmTreeNode"),a=t.dropNode;a&&a!==r&&(0,l.removeClass)(a.$el,"is-drop-inner");var o=t.draggingNode;if(o&&r){var s=!0,c=!0,h=!0,u=!0;"function"===typeof e.allowDrop&&(s=e.allowDrop(o.node,r.node,"prev"),u=c=e.allowDrop(o.node,r.node,"inner"),h=e.allowDrop(o.node,r.node,"next")),n.dataTransfer.dropEffect=c?"move":"none",(s||c||h)&&a!==r&&(a&&e.$emit("node-drag-leave",o.node,a.node,n),e.$emit("node-drag-enter",o.node,r.node,n)),(s||c||h)&&(t.dropNode=r),r.node.nextSibling===o.node&&(h=!1),r.node.previousSibling===o.node&&(s=!1),r.node.contains(o.node,!1)&&(c=!1),(o.node===r.node||o.node.contains(r.node))&&(s=!1,c=!1,h=!1);var f,p=r.$el.getBoundingClientRect(),v=e.$el.getBoundingClientRect(),y=s?c?.25:h?.45:1:-1,k=h?c?.75:s?.55:0:1,C=-9999,g=n.clientY-p.top;f=g<p.height*y?"before":g>p.height*k?"after":c?"inner":"none";var N=r.$el.querySelector(".zm-tree-node__expand-icon").getBoundingClientRect(),x=e.$refs.dropIndicator;"before"===f?C=N.top-v.top:"after"===f&&(C=N.bottom-v.top),x.style.top=C+"px",x.style.left=N.right-v.left+"px","inner"===f?(0,l.addClass)(r.$el,"is-drop-inner"):(0,l.removeClass)(r.$el,"is-drop-inner"),t.showDropIndicator="before"===f||"after"===f,t.allowDrop=t.showDropIndicator||u,t.dropType=f,e.$emit("node-drag-over",o.node,r.node,n)}})),this.$on("tree-node-drag-end",(function(n){var i=t.draggingNode,r=t.dropType,d=t.dropNode;if(n.preventDefault(),n.dataTransfer.dropEffect="move",i&&d){var a={data:i.node.data};"none"!==r&&i.node.remove(),"before"===r?d.node.parent.insertBefore(a,d.node):"after"===r?d.node.parent.insertAfter(a,d.node):"inner"===r&&d.node.insertChild(a),"none"!==r&&e.store.registerNode(a),(0,l.removeClass)(d.$el,"is-drop-inner"),e.$emit("node-drag-end",i.node,d.node,r,n),"none"!==r&&e.$emit("node-drop",i.node,d.node,r,n)}i&&!d&&e.$emit("node-drag-end",i.node,null,r,n),t.showDropIndicator=!1,t.draggingNode=null,t.dropNode=null,t.allowDrop=!0}))},mounted:function(){this.initTabIndex(),this.$el.addEventListener("keydown",this.handleKeydown)},updated:function(){this.treeItems=this.$el.querySelectorAll("[role=treeitem]"),this.checkboxItems=this.$el.querySelectorAll("input[type=checkbox]")},beforeDestroy:function(){this.$el.removeEventListener("keydown",this.handleKeydown)}};t.default=c},"23dd":function(e,t,n){},"2c80":function(e,t,n){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("d3b7"),n("159b"),n("14d9"),n("d81d"),n("4e82"),n("b64b"),n("25f0");var r=i(n("53ca")),d=i(n("d4ec")),a=i(n("bee2")),o=i(n("4e1f")),s=n("fab9"),l=function(){function e(t){var n=this;for(var i in(0,d.default)(this,e),this.currentNode=null,this.currentNodeKey=null,t)t.hasOwnProperty(i)&&(this[i]=t[i]);if(this.nodesMap={},this.root=new o.default({data:this.data,store:this}),this.lazy&&this.load){var r=this.load;r(this.root,(function(e){n.root.doCreateChildren(e),n._initDefaultCheckedNodes()}))}else this._initDefaultCheckedNodes()}return(0,a.default)(e,[{key:"filter",value:function(e){var t=this.filterNodeMethod,n=this.lazy,i=function i(r){var d=r.root?r.root.childNodes:r.childNodes;if(d.forEach((function(n){var r=t.call(n,e,n.data,n);n.visible=r,n.focusBySearch=r,i(n)})),!r.visible&&d.length){var a=!0;d.forEach((function(e){e.visible&&(a=!1)})),r.root?r.root.visible=!1===a:r.visible=!1===a}e&&(!r.visible||r.isLeaf||n||r.expand())};i(this)}},{key:"setData",value:function(e){var t=e!==this.root.data;t?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}},{key:"getNode",value:function(e){if(e instanceof o.default)return e;var t="object"!==(0,r.default)(e)?e:(0,s.getNodeKey)(this.key,e);return this.nodesMap[t]||null}},{key:"insertBefore",value:function(e,t){var n=this.getNode(t);n.parent.insertBefore({data:e},n)}},{key:"insertAfter",value:function(e,t){var n=this.getNode(t);n.parent.insertAfter({data:e},n)}},{key:"remove",value:function(e){var t=this.getNode(e);t&&t.parent&&t.parent.removeChild(t)}},{key:"append",value:function(e,t){var n=t?this.getNode(t):this.root;n&&n.insertChild({data:e})}},{key:"_initDefaultCheckedNodes",value:function(){var e=this,t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach((function(t){var i=n[t];i&&i.setChecked(!0,!e.checkStrictly)}))}},{key:"_initDefaultCheckedNode",value:function(e){var t=this.defaultCheckedKeys||[];-1!==t.indexOf(e.key)&&e.setChecked(!0,!this.checkStrictly)}},{key:"setDefaultCheckedKey",value:function(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}},{key:"registerNode",value:function(e){var t=this.key;if(t&&e&&e.data){var n=e.key;void 0!==n&&(this.nodesMap[e.key]=e)}}},{key:"deregisterNode",value:function(e){var t=this,n=this.key;n&&e&&e.data&&(e.childNodes.forEach((function(e){t.deregisterNode(e)})),delete this.nodesMap[e.key])}},{key:"getCheckedNodes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];n&&(e=!1,t=!1);var r=function r(d){var a=d.root?d.root.childNodes:d.childNodes;a.forEach((function(d){(d.checked||t&&d.indeterminate)&&(!e||e&&d.isLeaf)&&i.push(d.data),n&&d.checked||r(d)}))};return r(this),i}},{key:"getCheckedKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0;return this.getCheckedNodes(t,!1,n).map((function(t){return(t||{})[e.key]}))}},{key:"getHalfCheckedNodes",value:function(){var e=[],t=function t(n){var i=n.root?n.root.childNodes:n.childNodes;i.forEach((function(n){n.indeterminate&&e.push(n.data),t(n)}))};return t(this),e}},{key:"getHalfCheckedKeys",value:function(){var e=this;return this.getHalfCheckedNodes().map((function(t){return(t||{})[e.key]}))}},{key:"_getAllNodes",value:function(){var e=[],t=this.nodesMap;for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e}},{key:"updateChildren",value:function(e,t){var n=this.nodesMap[e];if(n){for(var i=n.childNodes,r=i.length-1;r>=0;r--){var d=i[r];this.remove(d.data)}for(var a=0,o=t.length;a<o;a++){var s=t[a];this.append(s,n.data)}}}},{key:"_setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=this._getAllNodes().sort((function(e,t){return t.level-e.level})),r=Object.create(null),d=Object.keys(n);i.forEach((function(e){return e.setChecked(!1,!1)}));for(var a=0,o=i.length;a<o;a++){var s=i[a],l=s.data[e].toString(),c=d.indexOf(l)>-1;if(c){var h=s.parent;while(h&&h.level>0)r[h.data[e]]=!0,h=h.parent;s.isLeaf||this.checkStrictly?s.setChecked(!0,!1):(s.setChecked(!0,!0),t&&function(){s.setChecked(!1,!1);var e=function e(t){var n=t.childNodes;n.forEach((function(t){t.isLeaf||t.setChecked(!1,!1),e(t)}))};e(s)}())}else s.checked&&!r[l]&&s.setChecked(!1,!1)}}},{key:"setCheckedNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.key,i={};e.forEach((function(e){i[(e||{})[n]]=!0})),this._setCheckedKeys(n,t,i)}},{key:"setCheckedKeys",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.defaultCheckedKeys=e;var n=this.key,i={};e.forEach((function(e){i[e]=!0})),this._setCheckedKeys(n,t,i)}},{key:"setDefaultExpandedKeys",value:function(e){var t=this;e=e||[],this.defaultExpandedKeys=e,e.forEach((function(e){var n=t.getNode(e);n&&n.expand(null,t.autoExpandParent)}))}},{key:"setChecked",value:function(e,t,n){var i=this.getNode(e);i&&i.setChecked(!!t,n)}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"setCurrentNode",value:function(e){this.currentNode=e}},{key:"setUserCurrentNode",value:function(e){var t=e[this.key],n=this.nodesMap[t];this.setCurrentNode(n)}},{key:"setCurrentNodeKey",value:function(e){if(null!==e){var t=this.getNode(e);t&&(this.currentNode=t)}else this.currentNode=null}}]),e}();t.default=l},"2cde":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"zm-tree",class:{"zm-tree--highlight-current":e.highlightCurrent,"is-dragging":!!e.dragState.draggingNode,"is-drop-not-allow":!e.dragState.allowDrop,"is-drop-inner":"inner"===e.dragState.dropType},attrs:{role:"tree"}},[e._l(e.root.childNodes,(function(n){return t("zm-tree-node",{key:e.getNodeKey(n),attrs:{node:n,props:e.props,"render-after-expand":e.renderAfterExpand,"render-content":e.renderContent,"single-choice":e.singleChoice},on:{"node-expand":e.handleNodeExpand}})})),e.isEmpty?t("div",{staticClass:"zm-tree__empty-block"},[t("span",{staticClass:"zm-tree__empty-text"},[e._v(e._s(e.emptyText))])]):e._e(),t("div",{directives:[{name:"show",rawName:"v-show",value:e.dragState.showDropIndicator,expression:"dragState.showDropIndicator"}],ref:"dropIndicator",staticClass:"zm-tree__drop-indicator"})],2)};t.render=n;var i=[];t.staticRenderFns=i},"3ae2":function(e,t,n){"use strict";var i=n("ca9a");n.o(i,"render")&&n.d(t,"render",(function(){return i["render"]})),n.o(i,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},"4dac":function(e,t,n){"use strict";n("23dd")},"4e1f":function(e,t,n){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.getChildState=t.default=void 0,n("d9e2"),n("14d9"),n("a434"),n("d3b7"),n("159b"),n("d81d"),n("b64b");var r=i(n("d4ec")),d=i(n("bee2")),a=i(n("5c16")),o=n("fab9"),s=function(e){for(var t=!0,n=!0,i=!0,r=0,d=e.length;r<d;r++){var a=e[r];(!0!==a.checked||a.indeterminate)&&(t=!1,a.disabled||(i=!1)),(!1!==a.checked||a.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:i,half:!t&&!n}};t.getChildState=s;var l=function e(t){if(0!==t.childNodes.length){var n=s(t.childNodes),i=n.all,r=n.none,d=n.half;i?(t.checked=!0,t.indeterminate=!1):d?(t.checked=!1,t.indeterminate=!0):r&&(t.checked=!1,t.indeterminate=!1);var a=t.parent;a&&0!==a.level&&(t.store.checkStrictly||e(a))}},c=function(e,t){var n=e.store.props,i=e.data||{},r=n[t];if("function"===typeof r)return r(i,e);if("string"===typeof r)return i[r];if("undefined"===typeof r){var d=i[t];return void 0===d?"":d}},h=0,u=function(){function e(t){for(var n in(0,r.default)(this,e),this.id=h++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.focusBySearch=!1,t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1);var i=this.store;if(!i)throw new Error("[Node]store is required!");i.registerNode(this);var d=i.props;if(d&&"undefined"!==typeof d.isLeaf){var a=c(this,"isLeaf");"boolean"===typeof a&&(this.isLeafByUser=a)}if(!0!==i.lazy&&this.data?(this.setData(this.data),i.defaultExpandAll&&(this.expanded=!0)):this.level>0&&i.lazy&&i.defaultExpandAll&&this.expand(),Array.isArray(this.data)||(0,o.markNodeData)(this,this.data),this.data){var s=i.defaultExpandedKeys,l=i.key;l&&s&&-1!==s.indexOf(this.key)&&this.expand(null,i.autoExpandParent),l&&void 0!==i.currentNodeKey&&this.key===i.currentNodeKey&&(i.currentNode=this),i.lazy&&i._initDefaultCheckedNode(this),this.updateLeafState()}}return(0,d.default)(e,[{key:"setData",value:function(e){var t;Array.isArray(e)||(0,o.markNodeData)(this,e),this.data=e,this.childNodes=[],t=0===this.level&&this.data instanceof Array?this.data:c(this,"children")||[];for(var n=0,i=t.length;n<i;n++)this.insertChild({data:t[n]})}},{key:"label",get:function(){return c(this,"label")}},{key:"icon",get:function(){return c(this,"icon")}},{key:"key",get:function(){var e=this.store.key;return this.data?this.data[e]:null}},{key:"disabled",get:function(){return c(this,"disabled")}},{key:"nextSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}},{key:"previousSibling",get:function(){var e=this.parent;if(e){var t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}},{key:"contains",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function n(i){for(var r=i.childNodes||[],d=!1,a=0,o=r.length;a<o;a++){var s=r[a];if(s===e||t&&n(s)){d=!0;break}}return d};return n(this)}},{key:"remove",value:function(){var e=this.parent;e&&e.removeChild(this)}},{key:"insertChild",value:function(t,n,i){if(!t)throw new Error("insertChild error: child is required.");if(!(t instanceof e)){if(!i){var r=this.getChildren(!0)||[];-1===r.indexOf(t.data)&&("undefined"===typeof n||n<0?r.push(t.data):r.splice(n,0,t.data))}(0,a.default)(t,{parent:this,store:this.store}),t=new e(t)}t.level=this.level+1,"undefined"===typeof n||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}},{key:"insertBefore",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t)),this.insertChild(e,n)}},{key:"insertAfter",value:function(e,t){var n;t&&(n=this.childNodes.indexOf(t),-1!==n&&(n+=1)),this.insertChild(e,n)}},{key:"removeChild",value:function(e){var t=this.getChildren()||[],n=t.indexOf(e.data);n>-1&&t.splice(n,1);var i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}},{key:"removeChildByData",value:function(e){for(var t=null,n=0;n<this.childNodes.length;n++)if(this.childNodes[n]===e){t=this.childNodes[n];break}t&&this.removeChild(t)}},{key:"expand",value:function(e,t){var n=this,i=function(){if(t){var i=n.parent;while(i.level>0)i.expanded=!0,i=i.parent}n.expanded=!0,e&&e()};this.shouldLoadData()?this.loadData((function(e){e instanceof Array&&(n.checked?n.setChecked(!0,!0):n.store.checkStrictly||l(n),i())})):i()}},{key:"doCreateChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e){t.insertChild((0,a.default)({data:e},n),void 0,!0)}))}},{key:"collapse",value:function(){this.expanded=!1}},{key:"shouldLoadData",value:function(){return!0===this.store.lazy&&this.store.load&&!this.loaded}},{key:"updateLeafState",value:function(){if(!0!==this.store.lazy||!0===this.loaded||"undefined"===typeof this.isLeafByUser){var e=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!e||0===e.length:this.isLeaf=!1}else this.isLeaf=this.isLeafByUser}},{key:"setChecked",value:function(e,t,n,i){var r=this;if(this.indeterminate="half"===e,this.checked=!0===e,!this.store.checkStrictly){if(!this.shouldLoadData()||this.store.checkDescendants){var d=s(this.childNodes),a=d.all,o=d.allWithoutDisable;this.isLeaf||a||!o||(this.checked=!1,e=!1);var c=function(){if(t){for(var n=r.childNodes,d=0,a=n.length;d<a;d++){var o=n[d];i=i||!1!==e;var l=o.disabled?o.checked:i;o.setChecked(l,t,!0,i)}var c=s(n),h=c.half,u=c.all;u||(r.checked=u,r.indeterminate=h)}};if(this.shouldLoadData())return void this.loadData((function(){c(),l(r)}),{checked:!1!==e});c()}var h=this.parent;h&&0!==h.level&&(n||l(h))}}},{key:"getChildren",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.level)return this.data;var t=this.data;if(!t)return null;var n=this.store.props,i="children";return n&&(i=n.children||"children"),void 0===t[i]&&(t[i]=null),e&&!t[i]&&(t[i]=[]),t[i]}},{key:"updateChildren",value:function(){var e=this,t=this.getChildren()||[],n=this.childNodes.map((function(e){return e.data})),i={},r=[];t.forEach((function(e,t){e[o.NODE_KEY]?i[e[o.NODE_KEY]]={index:t,data:e}:r.push({index:t,data:e})})),this.store.lazy||n.forEach((function(t){i[t[o.NODE_KEY]]||e.removeChildByData(t)})),r.forEach((function(t){var n=t.index,i=t.data;e.insertChild({data:i},n)})),this.updateLeafState()}},{key:"loadData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(n).length)e&&e.call(this);else{this.loading=!0;var i=function(i){t.loaded=!0,t.loading=!1,t.childNodes=[],t.doCreateChildren(i,n),t.updateLeafState(),e&&e.call(t,i)};this.store.load(this,i)}}}]),e}();t.default=u},"677a":function(e,t,n){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("caad"),n("2532");var r=i(n("e8d0")),d=i(n("65d3")),a=i(n("c962")),o=n("fab9"),s={name:"ZmTreeNode",componentName:"ZmTreeNode",mixins:[a.default],props:{node:{type:Object,default:function(){return{}}},props:Object,renderContent:Function,renderAfterExpand:{type:Boolean,default:!0},parentExpanded:{type:Boolean,default:!0},singleChoice:{type:Boolean,default:!1}},components:{ZmCollapseTransition:r.default,ZmCheckbox:d.default,NodeContent:{props:{node:{required:!0}},render:function(e){var t=this.$parent,n=t.tree,i=this.node,r=i.data,d=i.store;return t.renderContent?t.renderContent.call(t._renderProxy,e,{_self:n.$vnode.context,node:i,data:r,store:d}):n.$scopedSlots.default?n.$scopedSlots.default({node:i,data:r}):e("span",{class:"zm-tree-node__label"},[i.label])}}},data:function(){return{tree:null,expanded:!1,childNodeRendered:!1,showCheckbox:!1,oldChecked:null,oldIndeterminate:null}},computed:{isActive:function(){return this.tree.store.activeKeys.includes(this.getNodeKey(this.node))}},watch:{"node.indeterminate":function(e){this.handleSelectChange(this.node.checked,e)},"node.checked":function(e){this.handleSelectChange(e,this.node.indeterminate)},"node.expanded":function(e){var t=this;this.$nextTick((function(){t.expanded=e})),e&&(this.childNodeRendered=!0)}},methods:{getNodeKey:function(e){return(0,o.getNodeKey)(this.tree.nodeKey,e.data)},handleSelectChange:function(e,t){this.oldChecked!==e&&this.oldIndeterminate!==t&&this.tree.$emit("check-change",this.node.data,e,t),this.oldChecked=e,this.indeterminate=t},handleClick:function(e){if("keydown"===(null===e||void 0===e?void 0:e.type)){if(!this.tree.expandOnClickNode&&!this.tree.checkOnClickNode)return;e.stopPropagation(),e.preventDefault()}var t=this.tree.store;t.setCurrentNode(this.node),this.tree.$emit("current-change",t.currentNode?t.currentNode.data:null,t.currentNode),this.tree.currentNode=this,this.tree.expandOnClickNode&&this.handleExpandIconClick(),this.tree.checkOnClickNode&&!this.node.disabled&&this.handleCheckChange(null,{target:{checked:!this.node.checked}}),this.tree.$emit("node-click",this.node.data,this.node,this)},handleContextMenu:function(e){this.tree._events["node-contextmenu"]&&this.tree._events["node-contextmenu"].length>0&&(e.stopPropagation(),e.preventDefault()),this.tree.$emit("node-contextmenu",e,this.node.data,this.node,this)},handleExpandIconClick:function(){this.node.isLeaf||(this.expanded?(this.tree.$emit("node-collapse",this.node.data,this.node,this),this.node.collapse()):(this.node.expand(),this.$emit("node-expand",this.node.data,this.node,this)))},handleCheckChange:function(e,t){var n=this;this.singleChoice&&this.tree.store.setCheckedKeys([]),this.node.setChecked(t.target.checked,!this.tree.checkStrictly),this.$nextTick((function(){var e=n.tree.store;n.tree.$emit("check",n.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))},handleChildNodeExpand:function(e,t,n){this.broadcast("ZmTreeNode","tree-node-expand",t),this.tree.$emit("node-expand",e,t,n)},handleDragStart:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-start",e,this)},handleDragOver:function(e){this.tree.draggable&&(this.tree.$emit("tree-node-drag-over",e,this),e.preventDefault())},handleDrop:function(e){e.preventDefault()},handleDragEnd:function(e){this.tree.draggable&&this.tree.$emit("tree-node-drag-end",e,this)}},created:function(){var e=this,t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree;var n=this.tree;n||console.warn("Can not find node's tree.");var i=n.props||{},r=i["children"]||"children";this.$watch("node.data.".concat(r),(function(){e.node.updateChildren()})),this.showCheckbox=n.showCheckbox,this.node.expanded&&(this.expanded=!0,this.childNodeRendered=!0),this.tree.accordion&&this.$on("tree-node-expand",(function(t){e.node!==t&&e.node.collapse()}))}};t.default=s},"84d5":function(e,t,n){"use strict";n.r(t);var i=n("1e5d"),r=n.n(i);for(var d in i)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(d);t["default"]=r.a},"8cd7":function(e,t,n){var i=n("fbc7"),r="en-US",d={"en-US":{tree:{emptyText:"No Data"}},"de-DE":{tree:{emptyText:"Keine Daten"}},"es-ES":{tree:{emptyText:"Sin datos"}},"fr-FR":{tree:{emptyText:"Aucune donnée"}},"id-ID":{tree:{emptyText:"Tidak ada data"}},"it-IT":{tree:{emptyText:"Nessun dato"}},"jp-JP":{tree:{emptyText:"データなし"}},"ko-KO":{tree:{emptyText:"데이터 없음"}},"nl-NL":{tree:{emptyText:"Geen gegevens"}},"pl-PL":{tree:{emptyText:"Brak danych"}},"pt-PT":{tree:{emptyText:"Sem dados"}},"ru-RU":{tree:{emptyText:"Нет данных"}},"tr-TR":{tree:{emptyText:"Veri yok"}},"vi-VN":{tree:{emptyText:"Không có dữ liệu"}},"zh-CN":{tree:{emptyText:"无数据"}},"zh-TW":{tree:{emptyText:"無資料"}}},a=d[i.locale]?d[i.locale]:d[r];(0,i.addLang)(a)},a2e6:function(e,t,n){var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t._Vue=void 0,n("b0c0");var r,d=i(n("af27"));t._Vue=r,d.default.install=function(e){t._Vue=r=e,e.component(d.default.name,d.default)};var a=d.default;t.default=a},aa91:function(e,t,n){},af27:function(e,t,n){"use strict";n.r(t);var i=n("c768"),r=n("84d5");for(var d in r)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(d);n("4dac");var a=n("2877"),o=Object(a["a"])(r["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},b14d:function(e,t,n){"use strict";n.r(t);var i=n("3ae2"),r=n("d2e1");for(var d in r)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(d);n("cbe92");var a=n("2877"),o=Object(a["a"])(r["default"],i["render"],i["staticRenderFns"],!1,null,null,null);t["default"]=o.exports},c768:function(e,t,n){"use strict";var i=n("2cde");n.o(i,"render")&&n.d(t,"render",(function(){return i["render"]})),n.o(i,"staticRenderFns")&&n.d(t,"staticRenderFns",(function(){return i["staticRenderFns"]}))},ca9a:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.staticRenderFns=t.render=void 0;var n=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"show",rawName:"v-show",value:e.node.visible,expression:"node.visible"}],ref:"node",staticClass:"zm-tree-node",class:{"is-expanded":e.expanded,"is-current":e.tree.store.currentNode===e.node,"is-hidden":!e.node.visible,"is-focusable":!0,"is-checked":!e.node.disabled&&e.node.checked,"is-parentExpanded":e.parentExpanded,"is-active":e.isActive},attrs:{role:"treeitem",tabindex:"-1","aria-expanded":e.expanded?"true":"false","aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.draggable},on:{click:function(t){return t.stopPropagation(),e.handleClick.apply(null,arguments)},contextmenu:function(t){return e.handleContextMenu(t)},dragstart:function(t){return t.stopPropagation(),e.handleDragStart.apply(null,arguments)},dragover:function(t){return t.stopPropagation(),e.handleDragOver.apply(null,arguments)},dragend:function(t){return t.stopPropagation(),e.handleDragEnd.apply(null,arguments)},drop:function(t){return t.stopPropagation(),e.handleDrop.apply(null,arguments)}}},[t("div",{staticClass:"zm-tree-node__content",style:{"padding-left":(e.node.level-1)*e.tree.indent+"px"}},[t("span",{class:[{"is-leaf":e.node.isLeaf,expanded:!e.node.isLeaf&&e.expanded},"zm-tree-node__expand-icon",e.tree.iconClass?e.tree.iconClass:"zm-icon-right"],on:{click:function(t){return t.stopPropagation(),e.handleExpandIconClick.apply(null,arguments)}}}),e.showCheckbox?t("zm-checkbox",{attrs:{indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,"aria-label":e.node.data&&e.node.data.label},on:{change:e.handleCheckChange},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.node.checked,callback:function(t){e.$set(e.node,"checked",t)},expression:"node.checked"}}):e._e(),e.node.loading?t("span",{staticClass:"zm-tree-node__loading-icon"},[t("svg",{staticClass:"circular",attrs:{width:"50",height:"50",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 0.375C8.34518 0.375 8.625 0.654822 8.625 1V4C8.625 4.34518 8.34518 4.625 8 4.625C7.65482 4.625 7.375 4.34518 7.375 4V1C7.375 0.654822 7.65482 0.375 8 0.375Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.9","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.18775 1.39655C4.48668 1.22396 4.86893 1.32638 5.04152 1.62531L6.54152 4.22339C6.71411 4.52232 6.61168 4.90456 6.31275 5.07715C6.01382 5.24974 5.63157 5.14732 5.45898 4.84839L3.95898 2.25031C3.7864 1.95138 3.88882 1.56913 4.18775 1.39655Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.8","fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.39648 4.18752C1.56907 3.88859 1.95132 3.78617 2.25025 3.95876L4.84833 5.45876C5.14726 5.63135 5.24968 6.01359 5.07709 6.31252C4.9045 6.61146 4.52226 6.71388 4.22333 6.54129L1.62525 5.04129C1.32632 4.8687 1.2239 4.48646 1.39648 4.18752Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.7","fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.375 8C0.375 7.65482 0.654822 7.375 1 7.375H4C4.34518 7.375 4.625 7.65482 4.625 8C4.625 8.34518 4.34518 8.625 4 8.625H1C0.654822 8.625 0.375 8.34518 0.375 8Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.6","fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.39648 11.8125C1.2239 11.5136 1.32632 11.1313 1.62525 10.9587L4.22333 9.45873C4.52226 9.28614 4.9045 9.38856 5.07709 9.68749C5.24968 9.98643 5.14726 10.3687 4.84833 10.5413L2.25025 12.0413C1.95132 12.2138 1.56907 12.1114 1.39648 11.8125Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.5","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.18725 14.6035C3.88832 14.4309 3.78589 14.0486 3.95848 13.7497L5.45848 11.1516C5.63107 10.8527 6.01332 10.7503 6.31225 10.9228C6.61118 11.0954 6.7136 11.4777 6.54102 11.7766L5.04102 14.3747C4.86843 14.6736 4.48618 14.776 4.18725 14.6035Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.4","fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 15.6272C7.65482 15.6272 7.375 15.3473 7.375 15.0022V12.0022C7.375 11.657 7.65482 11.3772 8 11.3772C8.34518 11.3772 8.625 11.657 8.625 12.0022V15.0022C8.625 15.3473 8.34518 15.6272 8 15.6272Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8122 14.6056C11.5133 14.7782 11.1311 14.6758 10.9585 14.3768L9.45848 11.7787C9.28589 11.4798 9.38832 11.0976 9.68725 10.925C9.98618 10.7524 10.3684 10.8548 10.541 11.1537L12.041 13.7518C12.2136 14.0508 12.1112 14.433 11.8122 14.6056Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.3","fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6035 11.8147C14.4309 12.1136 14.0487 12.216 13.7497 12.0434L11.1517 10.5434C10.8527 10.3708 10.7503 9.98861 10.9229 9.68967C11.0955 9.39074 11.4777 9.28832 11.7767 9.46091L14.3747 10.9609C14.6737 11.1335 14.7761 11.5157 14.6035 11.8147Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.2","fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.625 8.00217C15.625 8.34734 15.3452 8.62717 15 8.62717H12C11.6548 8.62717 11.375 8.34734 11.375 8.00217C11.375 7.65699 11.6548 7.37717 12 7.37717H15C15.3452 7.37717 15.625 7.65699 15.625 8.00217Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.2","fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.6035 4.18967C14.7761 4.48861 14.6737 4.87085 14.3747 5.04344L11.7767 6.54344C11.4777 6.71603 11.0955 6.61361 10.9229 6.31467C10.7503 6.01574 10.8527 5.6335 11.1517 5.46091L13.7497 3.96091C14.0487 3.78832 14.4309 3.89074 14.6035 4.18967Z",fill:"#000001"}}),t("path",{attrs:{opacity:"0.1","fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8128 1.39874C12.1117 1.57133 12.2141 1.95358 12.0415 2.25251L10.5415 4.85058C10.3689 5.14952 9.98668 5.25194 9.68775 5.07935C9.38882 4.90676 9.2864 4.52452 9.45898 4.22558L10.959 1.62751C11.1316 1.32858 11.5138 1.22615 11.8128 1.39874Z",fill:"#000001"}})])]):e._e(),t("node-content",{attrs:{node:e.node}})],1),t("zm-collapse-transition",{attrs:{"disable-transitions":e.tree.store.disableTransitions}},[!e.renderAfterExpand||e.childNodeRendered?t("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],staticClass:"zm-tree-node__children",attrs:{role:"group","aria-expanded":e.expanded?"true":"false"}},e._l(e.node.childNodes,(function(n){return t("zm-tree-node",{key:e.getNodeKey(n),attrs:{"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"parent-expanded":e.expanded&&e.parentExpanded,"single-choice":e.singleChoice,node:n},on:{"node-expand":e.handleChildNodeExpand}})})),1):e._e()])],1)};t.render=n;var i=[];t.staticRenderFns=i},cbe92:function(e,t,n){"use strict";n("aa91")},d2e1:function(e,t,n){"use strict";n.r(t);var i=n("677a"),r=n.n(i);for(var d in i)["default"].indexOf(d)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(d);t["default"]=r.a},fab9:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.markNodeData=t.getNodeKey=t.findNearestComponent=t.NODE_KEY=void 0,n("b0c0");var i="$treeNodeId";t.NODE_KEY=i;var r=function(e,t){t&&!t[i]&&Object.defineProperty(t,i,{value:e.id,enumerable:!1,configurable:!1,writable:!1})};t.markNodeData=r;var d=function(e,t){return e?t[e]:t[i]};t.getNodeKey=d;var a=function(e,t){var n=e;while(n&&"BODY"!==n.tagName){if(n.__vue__&&n.__vue__.$options.name===t)return n.__vue__;n=n.parentNode}return null};t.findNearestComponent=a}}]);